<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>PokeKernel - Collection</title>
    <link rel="stylesheet" href="/css/card-list.css" />
  </head>
  <body>
    <header style="position: relative;">
      <a href="/admin/login" style="position: absolute; top: 0; right: 0; padding: 10px 20px; background-color: #4338ca; color: white; text-decoration: none; border-radius: 8px; font-weight: bold; transition: background-color 0.3s;">Admin</a>
      <div style="text-align: center;">
        <h1>My Pokémon Collection</h1>
        <div class="stats">
          <span>Total Cards: <b th:text="${cards.size()}">0</b></span>
        </div>
      </div>
    </header>

    <main>
      <div class="card-grid">
        <div
          class="card-item"
          th:each="card : ${cards}"
          th:onclick="|location.href='@{/cards/{id}(id=${card.id})}'|"
        >
          <div class="card-image">
            <img th:src="${card.imageUrl != null and !card.imageUrl.isEmpty() ? card.imageUrl : '/images/pokemon-card.png'}" 
                 th:alt="${card.name}" 
                 onerror="this.src='/images/pokemon-card.png'; this.onerror=null;" />
          </div>
          <div class="card-info">
            <h3 th:text="${card.name}">Card Name</h3>
            <p class="set-name" th:text="${card.setName}">Set Name</p>
            <div class="meta">
              <span class="rarity" th:text="${card.rarity}">Rarity</span>
              <span class="price" th:text="${card.priceDisplay}">Price</span>
            </div>
            <div class="status-info" style="margin-top: 8px; font-size: 0.85em; color: #666;">
              <div th:if="${card.cardCondition != null}" style="margin-top: 4px;">
                <span style="font-weight: bold;">카드 상태:</span> 
                <span th:text="${card.cardConditionDesc != null ? card.cardConditionDesc : card.cardCondition}">-</span>
              </div>
              <div th:if="${card.collectionStatus != null}" style="margin-top: 4px;">
                <span style="font-weight: bold;">컬렉션 상태:</span> 
                <span th:text="${card.collectionStatusDesc != null ? card.collectionStatusDesc : card.collectionStatus}">-</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div th:if="${cards.isEmpty()}" class="empty-state">
        <p>수집된 카드가 없습니다. 관리자 메뉴에서 수집을 진행해주세요.</p>
      </div>
    </main>

    <script src="/js/app.bundle.js"></script>
  </body>
</html>
